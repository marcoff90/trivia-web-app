{"version":3,"file":"duel-repository.js","names":["create","Duel","savedDuel","findById","id","findOne","where","findOneUnfinished","playerOneId","Op","ne","playerTwoId","finished","findOneUnfinishedOnePlayerOnly","playerId","findByIdUnfinished"],"sources":["../../src/repositories/duel-repository.js"],"sourcesContent":["import Duel from \"../models/duel\";\nimport {Op} from \"sequelize\";\n\nconst create = async () => {\n  let savedDuel = await Duel.create();\n  return savedDuel;\n};\n\nconst findById = async (id) => {\n  return await Duel.findOne({\n    where: {\n      id: id\n    }\n  });\n};\n\nconst findOneUnfinished = async () => {\n  return await Duel.findOne({\n    where: {\n      playerOneId: {\n        [Op.ne]: null\n      },\n      playerTwoId: null,\n      finished: false\n    }\n  });\n};\n\nconst findOneUnfinishedOnePlayerOnly = async (playerId) => {\n  return await Duel.findOne({\n    where: {\n      playerOneId: playerId,\n      playerTwoId: null,\n      finished: false\n    }\n  });\n};\n\nconst findByIdUnfinished = async (id) => {\n  return await Duel.findOne({\n    where: {\n      id: id,\n      finished: false\n    }\n  });\n};\n\nexport default {\n  create,\n  findById,\n  findOneUnfinished,\n  findOneUnfinishedOnePlayerOnly,\n  findByIdUnfinished\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;AAEA,IAAMA,MAAM;EAAA,mEAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACSC,iBAAKD,MAAL,EADT;;UAAA;YACTE,SADS;YAAA,iCAENA,SAFM;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAANF,MAAM;IAAA;EAAA;AAAA,GAAZ;;AAKA,IAAMG,QAAQ;EAAA,oEAAG,kBAAOC,EAAP;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACFH,iBAAKI,OAAL,CAAa;cACxBC,KAAK,EAAE;gBACLF,EAAE,EAAEA;cADC;YADiB,CAAb,CADE;;UAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAARD,QAAQ;IAAA;EAAA;AAAA,GAAd;;AAQA,IAAMI,iBAAiB;EAAA,oEAAG;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACXN,iBAAKI,OAAL,CAAa;cACxBC,KAAK,EAAE;gBACLE,WAAW,sBACRC,cAAGC,EADK,EACA,IADA,CADN;gBAILC,WAAW,EAAE,IAJR;gBAKLC,QAAQ,EAAE;cALL;YADiB,CAAb,CADW;;UAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAjBL,iBAAiB;IAAA;EAAA;AAAA,GAAvB;;AAYA,IAAMM,8BAA8B;EAAA,oEAAG,kBAAOC,QAAP;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACxBb,iBAAKI,OAAL,CAAa;cACxBC,KAAK,EAAE;gBACLE,WAAW,EAAEM,QADR;gBAELH,WAAW,EAAE,IAFR;gBAGLC,QAAQ,EAAE;cAHL;YADiB,CAAb,CADwB;;UAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAA9BC,8BAA8B;IAAA;EAAA;AAAA,GAApC;;AAUA,IAAME,kBAAkB;EAAA,oEAAG,kBAAOX,EAAP;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACZH,iBAAKI,OAAL,CAAa;cACxBC,KAAK,EAAE;gBACLF,EAAE,EAAEA,EADC;gBAELQ,QAAQ,EAAE;cAFL;YADiB,CAAb,CADY;;UAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAlBG,kBAAkB;IAAA;EAAA;AAAA,GAAxB;;eASe;EACbf,MAAM,EAANA,MADa;EAEbG,QAAQ,EAARA,QAFa;EAGbI,iBAAiB,EAAjBA,iBAHa;EAIbM,8BAA8B,EAA9BA,8BAJa;EAKbE,kBAAkB,EAAlBA;AALa,C"}